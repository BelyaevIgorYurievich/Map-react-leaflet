webpackJsonp([0],{110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(111),r=(n.n(o),n(3)),a=n.n(r),i=n(7),l=(n.n(i),n(126)),c=n(61),u=n(299),p=n(311),s=Object(c.b)({value:p.a}),f=Object(c.c)(s),b=document.getElementById("root");!function(e){Object(i.render)(a.a.createElement(o.AppContainer,null,a.a.createElement(u.a,{store:f},a.a.createElement(e,null))),b)}(l.a)},126:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(3),l=n.n(i),c=n(7),u=(n.n(c),n(65)),p=(n.n(u),n(28)),s=n(268),f=(n(269),n(270)),b=n.n(f),d=n(290),y=(n.n(d),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.changeQuantityGeoObj=function(t){return function(n){var o=e.state.quantityGeoObj;if(n.stopPropagation(),"add"===t)return void e.setState({quantityGeoObj:o+1});o&&e.setState({quantityGeoObj:o-1})}},e.addData=function(){var t=e.state.quantityGeoObj;t&&b.a.get("http://itd-121.ru/figuresapi.php?figures="+t).then(function(t){var n=t.data;e.setState({geoObjects:n,lat:54.521764+1e-5*Math.random(),lng:36.281347+1e-5*Math.random()});var o=JSON.stringify(n);localStorage.setItem("geoObjects",o)})},e.changeInputValue=function(t){var n=+t.target.value;"number"!=typeof n||isNaN(n)||(n=Math.round(n),e.setState({quantityGeoObj:n}))},e.state={lat:54.521764,lng:36.281347,zoom:10,geoObjects:[],quantityGeoObj:0},e}return a(t,e),m(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("geoObjects"));if("object"===(void 0===e?"undefined":y(e))&&e){var t=e.length;this.setState({geoObjects:e,quantityGeoObj:t})}}},{key:"render",value:function(){var e=[this.state.lat,this.state.lng],t=this.state,n=t.quantityGeoObj,o=t.zoom,r=t.geoObjects;return l.a.createElement("div",{className:"app-wrapper"},l.a.createElement("div",{className:"modal-window"},l.a.createElement("p",null,"Количество объектов"),l.a.createElement("div",{className:"input-group"},l.a.createElement("button",{className:"control-bts",title:"Уменьшить количество",onClick:this.changeQuantityGeoObj("subtract")},"-"),l.a.createElement("input",{onChange:this.changeInputValue,value:n}),l.a.createElement("button",{className:"control-bts",title:"Увеличить количество",onClick:this.changeQuantityGeoObj("add")},"+")),l.a.createElement("button",{className:"control-bts update-bts",onClick:this.addData},"Обновить карту ↻")),l.a.createElement(p.Map,{center:e,zoom:o},l.a.createElement(p.TileLayer,{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),l.a.createElement(s.a,{geoObjects:r}),l.a.createElement(p.FeatureGroup,null,l.a.createElement(d.EditControl,{position:"topleft",draw:{rectangle:!1}}))))}}]),t}(l.a.Component);t.a=h},127:function(e,t,n){t=e.exports=n(128)(void 0),t.push([e.i,"/*!!!!Style for counter!!!!*/.leaflet-container{height:800px;width:100%;position:relative}*{margin:0;padding:0}div{color:#000}.app-wrapper{display:flex;position:relative}.app-wrapper input{width:50%;text-align:center}.control-bts{border:0;position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle;text-align:center;text-decoration:none;color:#000;outline:none;border-radius:5px;box-shadow:inset 0 0 0 1px #ddd,0 1px 1px #fff;cursor:pointer;margin:0 5px}.input-group{display:flex;justify-content:center;align-items:center}.update-bts{width:auto;margin:10px;padding:0 26px}.modal-window{padding:5px;background:#fff;display:flex;flex-direction:column;align-items:center;border-radius:10px;border:2px solid rgba(0,0,0,.2);width:197px;position:absolute;z-index:1000;top:10px;right:10px}.modal-window p{padding-bottom:10px}.modal-window input{padding:5px;font-size:13px;box-shadow:inset 0 2px 10px rgba(0,0,0,.25),0 2px 10px rgba(0,0,0,.25);border-radius:10px;background:hsla(0,0%,100%,.5);outline:none;color:#333;border:2px solid rgba(0,0,0,.2);width:50%;left:25%}.sr-only{display:none}.leaflet-container{height:100vh}",""])},268:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(3),l=n.n(i),c=n(7),u=(n.n(c),n(65)),p=(n.n(u),n(28)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.geoObjects.map(function(e,t){switch(e.type){case"circle":return l.a.createElement(p.Circle,{key:t,center:[e.x,e.y],radius:1e3*e.radius,color:e.color},l.a.createElement(p.Popup,null,l.a.createElement("span",null,e.name)));case"point":return l.a.createElement(p.Marker,{key:t,position:[e.x,e.y]},l.a.createElement(p.Popup,null,l.a.createElement("span",null,e.name)));case"polygon":var n=[];return e.x.forEach(function(t,o){n.push([t+.001*o,e.y[o]+.003*o])}),l.a.createElement(p.Polygon,{key:t,positions:n,color:e.color},l.a.createElement(p.Popup,null,l.a.createElement("span",null,e.name)));case"polyline":var o=[];return e.x.forEach(function(t,n){o.push([t+.001*n,e.y[n]+.003*n])}),l.a.createElement(p.Polyline,{key:t,positions:o,color:e.color},l.a.createElement(p.Popup,null,l.a.createElement("span",null,e.name)))}});return l.a.createElement("div",null,e)}}]),t}(l.a.Component);t.a=f},269:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(3),l=n.n(i),c=n(7),u=n.n(c),p=n(1),s=n.n(p),f=n(28),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}a(t,e),b(t,[{key:"componentWillMount",value:function(){var e=s.a.control({position:"topleft"}),t=l.a.createElement("div",this.props,this.props.children);e.onAdd=function(e){var n=s.a.DomUtil.create("div","");return u.a.render(t,n),n},this.leafletElement=e}}])}(f.MapControl)},311:function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case"COUNT__ADD":return r({},e,{value:e.value+t.date});case"COUNT__DOWN":return r({},e,{value:e.value-t.date});default:return e}}t.a=o;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a={value:10}},65:function(e,t,n){var o=n(127);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0};r.transform=void 0,n(129)(o,r),o.locals&&(e.exports=o.locals)}},[110]);